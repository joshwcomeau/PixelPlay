function GameController(){this.round=1,this.photos=null}function GlobalController(e,o){var t=this;t.currentUser=null,t.userService=o,e.$on("userAuthenticated",function(o,r){e.$apply(function(){t.currentUser=r,console.log(r)})})}angular.module("pixelPlay.game",[]),angular.module("pixelPlay.score",[]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(e,o){e.when("/",{templateUrl:"/components/dashboard/dashboard.index.html"}).when("/game",{templateUrl:"/components/game/game.index.html",controller:"GameController",controllerAs:"game"}),o.html5Mode(!0)}]),angular.module("pixelPlay",["ngRoute","ngResource","appRoutes","pixelPlay.game","pixelPlay.score"]).run(["User","$rootScope",function(e){_500px.init({sdk_key:"1e6cd00470800d39b07106a70a650cdf88277901"}),console.log("500px initialized"),_500px.getAuthorizationStatus(e.updateUser)}]),angular.module("pixelPlay.game").factory("FetchPhotos",["$http",function(e){return e.get("https://api.500px.com/v1/photos?feature=popular&consumer_key=17uTxhkeBo1uf94kxp75OxlsIiVoHBm5EkpDuVxH").success(function(e){alert("There are "+e.photos.length+" photos.")}).error(function(){})}]),GameController.prototype.start=function(){_500px.api("/photos",{feature:"popular",page:1},function(e){alert(e.success?"There are "+e.data.photos.length+" photos.":"Unable to complete request: "+e.status+" - "+e.error_message)})},GameController.$inject=["$scope","FetchPhotos"],angular.module("pixelPlay.game").controller("GameController",["$scope","FetchPhotos",GameController]),GlobalController.$inject=["$scope","User"],angular.module("pixelPlay").controller("GlobalController",["$scope","User",GlobalController]),angular.module("pixelPlay.score").factory("Score",["$resource",function(e){return e("/api/scores/:id")}]),angular.module("pixelPlay").service("User",["$rootScope","Score",function(e){var o=this;o.currentUser=null,o.data=null,o.login=function(){_500px.login(o.updateUser)},o.logout=function(){_500px.logout(o.updateUser)},o.updateUser=function(t){"authorized"===t?_500px.api("/users",function(t){console.log(t),o.currentUser=t.data.user,o.data=t,e.$broadcast("userAuthenticated",t.data.user)}):(console.log("updateUser is logging out"),o.currentUser=o.data=null)}}]);
//# sourceMappingURL=main.min.js.map